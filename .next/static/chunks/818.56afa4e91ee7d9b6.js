"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{818:function(e,t,r){r.r(t),r.d(t,{MobileNavigation:function(){return m}});var a=r(7437),n=r(5216),l=r(7138),o=r(6463),s=r(3852),i=r(8030);let u=(0,i.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),c=(0,i.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var h=r(5912),d=r(4817),f=r(7440);function m(){let{user:e}=(0,n.a)(),t=(0,o.usePathname)();if(!e)return null;let r="homeowner"===e.activeRole,i="contractor"===e.activeRole;return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t md:hidden",children:(0,a.jsx)("div",{className:"flex justify-around items-center h-16",children:(()=>{let t=[{href:"/dashboard/".concat(e.activeRole),icon:s.Z,label:"Home"},{href:"/messages",icon:u,label:"Messages"},{href:"/notifications",icon:c,label:"Alerts"}];return r?[...t,{href:"/post-job",icon:h.Z,label:"Post Job"}]:i?[...t,{href:"/browse-jobs",icon:d.Z,label:"Find Work"}]:t})().map(e=>{let r=e.icon,n=t===e.href;return(0,a.jsxs)(l.default,{href:e.href,className:(0,f.cn)("flex flex-col items-center justify-center flex-1 h-full","text-muted-foreground hover:text-foreground transition-colors",n&&"text-primary"),children:[(0,a.jsx)(r,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs mt-1",children:e.label})]},e.href)})})})}},5216:function(e,t,r){r.d(t,{a:function(){return u}});var a=r(9099),n=r(9291),l=r(6853),o=r(2649);let s=()=>!1,i=(0,a.Ue)()((0,n.tJ)(e=>({user:null,isAuthenticated:!1,login:t=>{let r=s()?["homeowner","contractor"]:t.roles,a=t.activeRole||r[0];t.token&&o.Z.set("auth-token",t.token,{expires:7,sameSite:"strict",secure:!0,path:"/"}),e({user:{...t,roles:r,activeRole:a},isAuthenticated:!0})},logout:()=>{o.Z.remove("auth-token",{path:"/"}),localStorage.removeItem("auth-storage"),sessionStorage.clear(),e({user:null,isAuthenticated:!1})},switchRole:t=>{e(e=>e.user&&e.user.roles.includes(t)?{...e,user:{...e.user,activeRole:t}}:e)},clearState:()=>{e({user:null,isAuthenticated:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),u=()=>{let{user:e,error:t,isLoading:r}=(0,l.aF)(),{user:a,isAuthenticated:n,login:u,logout:c,switchRole:h}=i();return{user:s()?a:e?{id:e.sub,name:e.name,email:e.email,roles:e["https://myapp.org/roles"]||["homeowner"],activeRole:e["https://myapp.org/activeRole"]||"homeowner"}:null,isAuthenticated:s()?n:!!e,isLoading:!s()&&r,error:s()?null:t,login:u,logout:c,switchRole:h,checkAuth:()=>{if(s()){let e=o.Z.get("auth-token"),t=n&&null!==a&&null!==e;return t||i.getState().clearState(),t}return t?(console.error("Auth0 error:",t),!1):!r&&null!==e}}}},5912:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(8030).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},3852:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(8030).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},4817:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(8030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7138:function(e,t,r){r.d(t,{default:function(){return n.a}});var a=r(231),n=r.n(a)}}]);