(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9981],{4759:function(e,r,t){Promise.resolve().then(t.bind(t,3091))},3091:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Z}});var s=t(7437),l=t(2265),n=t(9343),a=t(1014),i=t(495),o=t(2653),c=t(6013),d=t(537),u=t(7440);let m=l.forwardRef((e,r)=>{let{className:t,value:l,...n}=e;return(0,s.jsx)(d.fC,{ref:r,className:(0,u.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,s.jsx)(d.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});m.displayName=d.fC.displayName;var x=t(6463),h=t(7776),p=t(5216),f=t(9772);let g=f.Ry({title:f.Z_().min(10,{message:"Title must be at least 10 characters."}),category:f.Z_(),location:f.Z_(),skills:f.IX(f.Z_()).default([]),scope:f.Km(["small","medium","large"]),duration:f.Z_(),experienceLevel:f.Km(["entry","intermediate","expert"]),budgetType:f.Km(["fixed","hourly"]),budget:f.Rx().optional(),minHourlyRate:f.Rx().optional(),maxHourlyRate:f.Rx().optional(),estimatedHours:f.Rx().optional(),useMilestones:f.O7(),milestones:f.IX(f.Ry({name:f.Z_(),budget:f.Rx()})).optional(),description:f.Z_()});var j=t(3102),v=t(6780),b=t(9497),y=t(8165);let N=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(b.fC,{className:(0,u.cn)("grid gap-2",t),...l,ref:r})});N.displayName=b.fC.displayName;let w=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(b.ck,{ref:r,className:(0,u.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:(0,s.jsx)(b.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(y.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});w.displayName=b.ck.displayName;var k=t(7135),C=t(7151);let R=[{value:"renovation",label:"Home Renovation",description:"Full or partial home renovations"},{value:"plumbing",label:"Plumbing",description:"Repairs, installations, and maintenance"},{value:"electrical",label:"Electrical",description:"Wiring, fixtures, and electrical systems"},{value:"painting",label:"Painting",description:"Interior and exterior painting"},{value:"landscaping",label:"Landscaping",description:"Outdoor design and maintenance"},{value:"cleaning",label:"Cleaning",description:"Deep cleaning and maintenance"},{value:"other",label:"Other Services",description:"Other home improvement services"}];var I=t(4693),S=t(4697);let P=["Plumbing","Electrical","Carpentry","Painting","Tiling","Flooring","HVAC","Landscaping","Masonry","Roofing"];var T=t(8002),z=t(2513),H=t(3146),A=t(7412);let W=[{title:"Title",component:function(){let e=(0,n.Gc)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Let's start with a strong title"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"This is the first thing professionals will see. A great title is short and descriptive."})]}),(0,s.jsx)(o.Wi,{control:e.control,name:"title",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Write a title for your job post"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{placeholder:"e.g., Need experienced plumber for bathroom renovation",...r,className:"text-lg"})}),(0,s.jsx)(o.pf,{children:"Keep it clear and concise"}),(0,s.jsx)(o.zG,{})]})}}),(0,s.jsx)(c.Zb,{className:"p-4 bg-muted/50 border-none",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-muted-foreground shrink-0"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"font-medium",children:"Example titles that work well:"}),(0,s.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,s.jsx)("li",{children:'• "Full Kitchen Remodel - Modern Design with Island"'}),(0,s.jsx)("li",{children:'• "Experienced Plumber Needed for Bathroom Renovation"'}),(0,s.jsx)("li",{children:'• "Install New Hardwood Flooring in Living Room (400 sq ft)"'}),(0,s.jsx)("li",{children:'• "Paint Interior of 3-Bedroom House - Walls and Trim"'})]})]})]})})]})}},{title:"Category",component:function(){let e=(0,n.Gc)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Choose a category"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"This helps us match you with the right professionals for your project."})]}),(0,s.jsx)(o.Wi,{control:e.control,name:"category",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{className:"space-y-4",children:[(0,s.jsx)(o.NI,{children:(0,s.jsx)(N,{onValueChange:r.onChange,defaultValue:r.value,className:"grid gap-4",children:R.map(e=>(0,s.jsxs)("div",{className:(0,u.cn)("flex items-center justify-between rounded-lg border p-4 cursor-pointer hover:border-primary",r.value===e.value&&"border-primary bg-primary/5"),children:[(0,s.jsx)(k._,{className:"flex-1 cursor-pointer",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.label}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})}),(0,s.jsx)(w,{value:e.value,className:"ml-4"})]},e.value))})}),(0,s.jsx)(o.zG,{})]})}}),e.watch("category")&&(0,s.jsx)(o.Wi,{control:e.control,name:"location",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Project Location"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{placeholder:"e.g., New York, NY",...r})}),(0,s.jsx)(o.pf,{children:"Where will this work take place?"}),(0,s.jsx)(o.zG,{})]})}}),e.watch("category")&&(0,s.jsx)(c.Zb,{className:"p-4 bg-muted/50 border-none",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C.Z,{className:"h-5 w-5 text-muted-foreground shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"Why is this important?"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Choosing the right category ensures your job reaches professionals with the specific skills and experience you need. This leads to more relevant proposals and better matches."})]})]})})]})}},{title:"Skills",component:e=>{let{form:r}=e,[t,n]=(0,l.useState)(""),{control:a,setValue:i}=r,c=r.watch("skills")||[],d=P.filter(e=>e.toLowerCase().includes(t.toLowerCase())&&!c.includes(e)),u=e=>{c.length<10&&(i("skills",[...c,e]),n(""))},m=e=>{i("skills",c.filter(r=>r!==e))};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.Wi,{control:a,name:"skills",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Required Skills"}),(0,s.jsx)(o.NI,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(j.I,{placeholder:"Type to search skills...",value:t,onChange:e=>n(e.target.value)}),t&&d.length>0&&(0,s.jsx)("div",{className:"border rounded-md p-2",children:d.map(e=>(0,s.jsx)("div",{className:"p-2 hover:bg-muted cursor-pointer",onClick:()=>u(e),children:e},e))}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,s.jsxs)(I.C,{variant:"secondary",className:"pl-2 pr-1 py-1",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>m(e),className:"ml-1 hover:bg-muted rounded-full p-1",children:(0,s.jsx)(S.Z,{className:"h-3 w-3"})})]},e))})]})}),(0,s.jsx)(o.pf,{children:"Select up to 10 skills required for this job"}),(0,s.jsx)(o.zG,{})]})}}),0===c.length&&(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Popular Skills:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:P.slice(0,6).map(e=>(0,s.jsx)(I.C,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground",onClick:()=>u(e),children:e},e))})]})]})}},{title:"Scope",component:function(){let e=(0,n.Gc)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"What's the size of your project?"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"This helps us match you with professionals who handle projects of this scope."})]}),(0,s.jsx)(o.Wi,{control:e.control,name:"scope",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.NI,{children:(0,s.jsx)(N,{onValueChange:r.onChange,defaultValue:r.value,className:"grid gap-4",children:[{value:"small",title:"Small Project",description:"Quick, straightforward tasks (e.g., fixing a leaky faucet, painting a room)",details:["Usually takes a few days","Simple, well-defined tasks","Minimal planning required"]},{value:"medium",title:"Medium Project",description:"Well-defined projects (e.g., bathroom remodel, deck construction)",details:["Takes a few weeks to complete","May require multiple skills","Some planning and coordination needed"]},{value:"large",title:"Large Project",description:"Complex projects (e.g., full house renovation, new construction)",details:["Takes months to complete","Multiple phases and contractors","Extensive planning required"]}].map(e=>(0,s.jsx)(k._,{className:(0,u.cn)("flex flex-col items-start rounded-lg border p-4 cursor-pointer hover:border-primary",r.value===e.value&&"border-primary bg-primary/5"),children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)(w,{value:e.value,className:"ml-4"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,s.jsx)("ul",{className:"text-sm text-muted-foreground list-disc list-inside",children:e.details.map((e,r)=>(0,s.jsx)("li",{children:e},r))})]})},e.value))})}),(0,s.jsx)(o.pf,{children:"Choose the size that best matches your project's complexity and requirements"}),(0,s.jsx)(o.zG,{})]})}})]})}},{title:"Duration",component:function(){let e=(0,n.Gc)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"How long will your project take?"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Choose the best estimate based on your project's scope. This helps professionals plan their availability."})]}),(0,s.jsx)(o.Wi,{control:e.control,name:"duration",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.NI,{children:(0,s.jsx)(N,{onValueChange:r.onChange,defaultValue:r.value,className:"grid gap-4",children:[{value:"1-3",title:"1-3 Months",description:"Short-term project, ideal for focused improvements"},{value:"3-6",title:"3-6 Months",description:"Medium-term project, suitable for larger renovations"},{value:"6+",title:"6+ Months",description:"Long-term project, perfect for complete home renovations"}].map(e=>(0,s.jsx)(k._,{className:(0,u.cn)("flex flex-col items-start rounded-lg border p-4 cursor-pointer hover:border-primary",r.value===e.value&&"border-primary bg-primary/5"),children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)(w,{value:e.value,className:"ml-4"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})},e.value))})}),(0,s.jsx)(o.zG,{})]})}})]})}},{title:"Experience",component:function(){let e=(0,n.Gc)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"What level of expertise do you need?"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Choose the experience level that best matches your project's complexity and requirements."})]}),(0,s.jsx)(o.Wi,{control:e.control,name:"experienceLevel",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.NI,{children:(0,s.jsx)(N,{onValueChange:r.onChange,defaultValue:r.value,className:"grid gap-4",children:[{value:"entry",title:"Entry Level",description:"Newer professionals with basic experience. Best for simple tasks and smaller projects."},{value:"intermediate",title:"Intermediate",description:"Experienced professionals with a proven track record. Good for most standard projects."},{value:"expert",title:"Expert",description:"Top professionals with extensive experience. Ideal for complex or specialized projects."}].map(e=>(0,s.jsx)(k._,{className:(0,u.cn)("flex flex-col items-start rounded-lg border p-4 cursor-pointer hover:border-primary",r.value===e.value&&"border-primary bg-primary/5"),children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)(w,{value:e.value,className:"ml-4"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})},e.value))})}),(0,s.jsx)(o.zG,{})]})}})]})}},{title:"Budget",component:function(){let[e,r]=(0,l.useState)([{name:"",budget:0}]),t=(0,n.Gc)(),a=t=>{r(e.filter((e,r)=>r!==t))},c=(s,l,n)=>{let a=[...e];if(a[s]={...a[s],[l]:"budget"===l?Number(n):n},r(a),"fixed"===t.watch("budgetType")){let e=a.reduce((e,r)=>e+r.budget,0);t.setValue("budget",e)}},d=(()=>{let e=t.watch("skills")||[];return(t.watch("scope"),e.includes("Plumbing"))?{hourly:"$50-$150",fixed:{small:"$100-$500",medium:"$500-$2000",large:"$2000-$10000"}}:{hourly:"$25-$100",fixed:{small:"$100-$1000",medium:"$1000-$5000",large:"$5000+"}}})();return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(o.Wi,{control:t.control,name:"budgetType",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"How would you like to pay?"}),(0,s.jsx)(o.NI,{children:(0,s.jsxs)(N,{onValueChange:r.onChange,defaultValue:r.value,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(k._,{className:(0,u.cn)("flex flex-col items-start justify-between rounded-lg border p-4 cursor-pointer hover:border-primary","fixed"===r.value&&"border-primary bg-primary/5"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Fixed Price"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pay a fixed amount for the entire project"})]}),(0,s.jsx)(w,{value:"fixed"})]})}),(0,s.jsx)(k._,{className:(0,u.cn)("flex flex-col items-start justify-between rounded-lg border p-4 cursor-pointer hover:border-primary","hourly"===r.value&&"border-primary bg-primary/5"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Hourly Rate"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pay based on hours worked"})]}),(0,s.jsx)(w,{value:"hourly"})]})})]})}),(0,s.jsx)(o.zG,{})]})}}),"hourly"===t.watch("budgetType")?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(o.Wi,{control:t.control,name:"minHourlyRate",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Minimum Hourly Rate ($)"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{type:"number",min:"0",step:"1",...r,onChange:e=>r.onChange(e.target.valueAsNumber)})}),(0,s.jsxs)(o.pf,{children:["Typical hourly rates for this type of work: ",d.hourly]}),(0,s.jsx)(o.zG,{})]})}}),(0,s.jsx)(o.Wi,{control:t.control,name:"maxHourlyRate",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Maximum Hourly Rate ($)"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{type:"number",min:"0",step:"1",...r,onChange:e=>r.onChange(e.target.valueAsNumber)})}),(0,s.jsx)(o.zG,{})]})}}),(0,s.jsx)(o.Wi,{control:t.control,name:"estimatedHours",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Estimated Hours (Optional)"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{type:"number",min:"0",step:"1",...r,onChange:e=>r.onChange(e.target.valueAsNumber)})}),(0,s.jsx)(o.pf,{children:"Estimate how many hours you think the project will take"}),(0,s.jsx)(o.zG,{})]})}})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.Wi,{control:t.control,name:"useMilestones",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(o.lX,{children:"Enable Milestones"}),(0,s.jsx)(o.pf,{children:"Break your project into phases with separate payments"})]}),(0,s.jsx)(o.NI,{children:(0,s.jsx)("input",{type:"checkbox",checked:r.value,onChange:e=>r.onChange(e.target.checked),className:"accent-primary"})})]})}}),t.watch("useMilestones")?(0,s.jsxs)("div",{className:"space-y-4",children:[e.map((e,r)=>(0,s.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(k._,{children:"Milestone Name"}),(0,s.jsx)(j.I,{value:e.name,onChange:e=>c(r,"name",e.target.value),placeholder:"Phase ".concat(r+1)})]}),(0,s.jsxs)("div",{className:"w-1/3 space-y-2",children:[(0,s.jsx)(k._,{children:"Budget ($)"}),(0,s.jsx)(j.I,{type:"number",value:e.budget,onChange:e=>c(r,"budget",e.target.value),min:"0",step:"100"})]}),r>0&&(0,s.jsx)(i.z,{type:"button",variant:"outline",size:"icon",onClick:()=>a(r),className:"mt-8",children:(0,s.jsx)(T.Z,{className:"h-4 w-4"})})]},r)),(0,s.jsxs)(i.z,{type:"button",variant:"outline",onClick:()=>{r([...e,{name:"",budget:0}])},className:"w-full",children:[(0,s.jsx)(z.Z,{className:"h-4 w-4 mr-2"}),"Add Milestone"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Total Budget: $",e.reduce((e,r)=>e+r.budget,0)]})]}):(0,s.jsx)(o.Wi,{control:t.control,name:"budget",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Total Project Budget ($)"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(j.I,{type:"number",min:"0",step:"100",...r,onChange:e=>r.onChange(e.target.valueAsNumber)})}),(0,s.jsxs)(o.pf,{children:["For ",t.watch("scope")," projects like this, typical budgets are around"," ",d.fixed[t.watch("scope")]]}),(0,s.jsx)(o.zG,{})]})}})]})]})}},{title:"Description",component:function(){let e=(0,n.Gc)();return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(o.Wi,{control:e.control,name:"description",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.lX,{children:"Job Description"}),(0,s.jsx)(o.NI,{children:(0,s.jsx)(H.g,{placeholder:"Describe your project in detail...",className:"min-h-[200px]",...r})}),(0,s.jsx)(o.pf,{children:"Include specific requirements, deliverables, and any important details that will help contractors understand your needs. Consider including: - Specific tasks to be completed - Required materials or equipment - Timeline and milestones - Any specific requirements or preferences"}),(0,s.jsx)(o.zG,{})]})}})})}},{title:"Review",component:function(){var e;let r=(0,n.Gc)(),t=r.getValues(),l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return Object.keys(r.formState.errors).length>0?(0,s.jsxs)(A.bZ,{variant:"destructive",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4"}),(0,s.jsx)(A.X,{children:"Please fix the errors in previous steps before submitting your job post."})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Review your job post before submitting. Make sure all the details are correct."}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsxs)(c.Ol,{children:[(0,s.jsx)(c.ll,{children:t.title}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,s.jsx)(I.C,{variant:"outline",children:t.category}),(0,s.jsxs)(I.C,{variant:"outline",children:[t.scope," Project"]}),(0,s.jsx)(I.C,{variant:"outline",children:t.experienceLevel}),(0,s.jsxs)(I.C,{variant:"outline",children:[t.duration," months"]})]})]}),(0,s.jsxs)(c.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Location"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:t.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Required Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.skills.map(e=>(0,s.jsx)(I.C,{variant:"secondary",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Budget"}),"fixed"===t.budgetType?(0,s.jsxs)("p",{children:["Fixed Price: ",l(t.budget)]}):(0,s.jsxs)("p",{children:["Hourly Rate: ",l(t.minHourlyRate)," - ",l(t.maxHourlyRate),"/hr",t.estimatedHours>0&&" (Est. ".concat(t.estimatedHours," hours)")]}),t.useMilestones&&(null===(e=t.milestones)||void 0===e?void 0:e.length)>0&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Milestones:"}),(0,s.jsx)("ul",{className:"space-y-1",children:t.milestones.map((e,r)=>(0,s.jsxs)("li",{className:"text-sm",children:[e.name,": ",l(e.budget)]},r))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Project Description"}),(0,s.jsx)("p",{className:"whitespace-pre-wrap text-muted-foreground",children:t.description})]})]})]})]})}}];function Z(){let[e,r]=(0,l.useState)(1),[t,d]=(0,l.useState)(!1),u=(0,x.useRouter)(),{user:f,checkAuth:j}=(0,p.a)(),v=(0,n.cI)({resolver:(0,a.F)(g),defaultValues:{title:"",category:"",location:"",skills:[],scope:void 0,duration:void 0,experienceLevel:void 0,budgetType:"fixed",budget:0,minHourlyRate:0,maxHourlyRate:0,estimatedHours:0,useMilestones:!1,milestones:[],description:""}});(0,l.useEffect)(()=>{if(!j()){u.push("/login");return}if((null==f?void 0:f.activeRole)!=="homeowner"){u.push("/dashboard/contractor");return}let e=localStorage.getItem("jobDraft");if(e){let{data:r}=JSON.parse(e);v.reset(r)}},[v,u,f,j]);let b=async e=>{if(!j()){h.Am.error("You must be logged in to post a job");return}d(!0);try{console.log("Submitting job with values:",e);let r=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,postedBy:null==f?void 0:f.id})});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to create job")}localStorage.removeItem("jobDraft"),h.Am.success("Job posted successfully!"),u.push("/dashboard/homeowner")}catch(e){console.error("Error posting job:",e),h.Am.error(e.message||"Error posting job. Please try again.")}finally{d(!1)}},y=W[e-1].component,N=e/W.length*100,w=async()=>{let t=k(e);await v.trigger(t)&&(r(e+1),window.scrollTo(0,0))},k=e=>{switch(e){case 1:return["title"];case 2:return["category","location"];case 3:return["skills"];case 4:return["scope"];case 5:return["duration"];case 6:return["experienceLevel"];case 7:return["budgetType","budget","minHourlyRate","maxHourlyRate"];case 8:return["description"];default:return[]}};return j()&&(null==f?void 0:f.activeRole)==="homeowner"?(0,s.jsxs)("div",{className:"container max-w-3xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Post a New Job"}),(0,s.jsx)(m,{value:N,className:"h-2"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",e," of ",W.length,": ",W[e-1].title]})]}),(0,s.jsx)(o.l0,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(b),className:"space-y-8",children:[(0,s.jsx)(c.Zb,{children:(0,s.jsx)(c.aY,{className:"pt-6",children:(0,s.jsx)(y,{form:v})})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[e>1&&(0,s.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>{e>1&&(r(e-1),window.scrollTo(0,0))},children:"Previous"}),(0,s.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>{let e=v.getValues();localStorage.setItem("jobDraft",JSON.stringify({data:e,savedAt:new Date().toISOString()})),h.Am.success("Draft saved successfully!")},children:"Save Draft"})]}),e===W.length?(0,s.jsx)(i.z,{type:"submit",disabled:t||Object.keys(v.formState.errors).length>0,children:t?"Posting...":"Post Job"}):(0,s.jsx)(i.z,{type:"button",onClick:w,children:e===W.length?"Post Job":"Next: ".concat(W[e].title)})]})]})})]}):null}},7412:function(e,r,t){"use strict";t.d(r,{X:function(){return c},bZ:function(){return o}});var s=t(7437),l=t(2265),n=t(2218),a=t(7440);let i=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-500 [&>svg]:text-yellow-500"}},defaultVariants:{variant:"default"}}),o=l.forwardRef((e,r)=>{let{className:t,variant:l,...n}=e;return(0,s.jsx)("div",{ref:r,role:"alert",className:(0,a.cn)(i({variant:l}),t),...n})});o.displayName="Alert",l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("h5",{ref:r,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",t),...l})}).displayName="AlertTitle";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",t),...l})});c.displayName="AlertDescription"},4693:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var s=t(7437);t(2265);var l=t(2218),n=t(7440);let a=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...l}=e;return(0,s.jsx)("div",{className:(0,n.cn)(a({variant:t}),r),...l})}},495:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var s=t(7437),l=t(2265),n=t(1538),a=t(2218),i=t(7440);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,r)=>{let{className:t,variant:l,size:a,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:l,size:a,className:t})),ref:r,...d})});c.displayName="Button"},6013:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return a},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var s=t(7437),l=t(2265),n=t(7440);let a=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});a.displayName="Card";let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});o.displayName="CardTitle";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...l})});d.displayName="CardContent";let u=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...l})});u.displayName="CardFooter"},2653:function(e,r,t){"use strict";t.d(r,{NI:function(){return f},Wi:function(){return u},l0:function(){return c},lX:function(){return p},pf:function(){return g},xJ:function(){return h},zG:function(){return j}});var s=t(7437),l=t(2265),n=t(1538),a=t(9343),i=t(7440),o=t(7135);let c=a.RV,d=l.createContext({}),u=e=>{let{...r}=e;return(0,s.jsx)(d.Provider,{value:{name:r.name},children:(0,s.jsx)(a.Qr,{...r})})},m=()=>{let e=l.useContext(d),r=l.useContext(x),{getFieldState:t,formState:s}=(0,a.Gc)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},x=l.createContext({}),h=l.forwardRef((e,r)=>{let{className:t,...n}=e,a=l.useId();return(0,s.jsx)(x.Provider,{value:{id:a},children:(0,s.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...n})})});h.displayName="FormItem";let p=l.forwardRef((e,r)=>{let{className:t,...l}=e,{error:n,formItemId:a}=m();return(0,s.jsx)(o._,{ref:r,className:(0,i.cn)(n&&"text-destructive",t),htmlFor:a,...l})});p.displayName="FormLabel";let f=l.forwardRef((e,r)=>{let{...t}=e,{error:l,formItemId:a,formDescriptionId:i,formMessageId:o}=m();return(0,s.jsx)(n.g7,{ref:r,id:a,"aria-describedby":l?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!l,...t})});f.displayName="FormControl";let g=l.forwardRef((e,r)=>{let{className:t,...l}=e,{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:r,id:n,className:(0,i.cn)("text-sm text-muted-foreground",t),...l})});g.displayName="FormDescription";let j=l.forwardRef((e,r)=>{let{className:t,children:l,...n}=e,{error:a,formMessageId:o}=m(),c=a?String(null==a?void 0:a.message):l;return c?(0,s.jsx)("p",{ref:r,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",t),...n,children:c}):null});j.displayName="FormMessage"},3102:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var s=t(7437),l=t(2265),n=t(7440);let a=l.forwardRef((e,r)=>{let{className:t,type:l,...a}=e;return(0,s.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});a.displayName="Input"},7135:function(e,r,t){"use strict";t.d(r,{_:function(){return c}});var s=t(7437),l=t(2265),n=t(8364),a=t(2218),i=t(7440);let o=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(n.f,{ref:r,className:(0,i.cn)(o(),t),...l})});c.displayName=n.f.displayName},3146:function(e,r,t){"use strict";t.d(r,{g:function(){return a}});var s=t(7437),l=t(2265),n=t(7440);let a=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l})});a.displayName="Textarea"},5216:function(e,r,t){"use strict";t.d(r,{a:function(){return c}});var s=t(9099),l=t(9291),n=t(6853),a=t(2649);let i=()=>!1,o=(0,s.Ue)()((0,l.tJ)(e=>({user:null,isAuthenticated:!1,login:r=>{let t=i()?["homeowner","contractor"]:r.roles,s=r.activeRole||t[0];r.token&&a.Z.set("auth-token",r.token,{expires:7,sameSite:"strict",secure:!0,path:"/"}),e({user:{...r,roles:t,activeRole:s},isAuthenticated:!0})},logout:()=>{a.Z.remove("auth-token",{path:"/"}),localStorage.removeItem("auth-storage"),sessionStorage.clear(),e({user:null,isAuthenticated:!1})},switchRole:r=>{e(e=>e.user&&e.user.roles.includes(r)?{...e,user:{...e.user,activeRole:r}}:e)},clearState:()=>{e({user:null,isAuthenticated:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),c=()=>{let{user:e,error:r,isLoading:t}=(0,n.aF)(),{user:s,isAuthenticated:l,login:c,logout:d,switchRole:u}=o();return{user:i()?s:e?{id:e.sub,name:e.name,email:e.email,roles:e["https://myapp.org/roles"]||["homeowner"],activeRole:e["https://myapp.org/activeRole"]||"homeowner"}:null,isAuthenticated:i()?l:!!e,isLoading:!i()&&t,error:i()?null:r,login:c,logout:d,switchRole:u,checkAuth:()=>{if(i()){let e=a.Z.get("auth-token"),r=l&&null!==s&&null!==e;return r||o.getState().clearState(),r}return r?(console.error("Auth0 error:",r),!1):!t&&null!==e}}}},7440:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(4839),l=t(6164);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.m6)((0,s.W)(r))}}},function(e){e.O(0,[2183,4314,6853,7776,1336,800,2971,7023,1744],function(){return e(e.s=4759)}),_N_E=e.O()}]);